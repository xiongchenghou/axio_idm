<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layout">
<!-- <script type="text/javascript" src="chrome-extension://mdnleldcmiljblolnjhpnblkcekpdkpa/libs/customElements.js" class="__REQUESTLY__SCRIPT"></script> -->

<head>
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>UniversalModel</title>

  <link th:href="@{/vendor/jquery-ui-1.12.1/jquery-ui.css}" rel="stylesheet">
  <link th:href="@{/vendor/bootstrap-5.0.2-dist/css/bootstrap.min.css}" rel="stylesheet">
  <!-- <link th:href="@{/vendor/bootstrap-5.0.2-dist/datepicker/css/bootstrap-datetimepicker.css}" rel="stylesheet"> -->
  <link th:href="@{/vendor/datatables/dataTables.bootstrap.css}" rel="stylesheet">
  <link th:href="@{/css/common.css}" rel="stylesheet">
  <link th:href="@{/vendor/fontawesome-free-6.1.1-web/css/all.css}" rel="stylesheet">

  <!-- DataTables -->
  <!-- <link th:href="@{/vendor/AdminLTE-3.2.0/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css}" rel="stylesheet"> -->
  <link th:href="@{/vendor/datatables/1.13.6/css/bootstrap.min.css}" rel="stylesheet">
  <link th:href="@{/vendor/datatables/1.13.6/css/dataTables.bootstrap5.min.css}" rel="stylesheet">
  <link th:href="@{/vendor/datatables/1.13.6/css/dataTables.checkboxes.css}" rel="stylesheet">
  <link th:href="@{/vendor/AdminLTE-3.2.0/plugins/datatables-responsive/css/responsive.bootstrap4.min.css}" rel="stylesheet">
  <link th:href="@{/vendor/AdminLTE-3.2.0/plugins/datatables-buttons/css/buttons.bootstrap4.min.css}" rel="stylesheet">

  <link th:href="@{/vendor/AdminLTE-3.2.0/plugins/icheck-bootstrap/icheck-bootstrap.min.css}" rel="stylesheet">

  <!-- Theme style -->
  <link th:href="@{/vendor/AdminLTE-3.2.0/dist/css/adminlte.min.css}" rel="stylesheet">

  <!-- 個別設定CSS -->
  <!-- <link href="./assets/css/style2.css" rel="stylesheet"> -->


  <!-- common's javascript start
  <script type="text/javascript" src="./vendor/jquery-3.2.1.js"></script>
  <script type="text/javascript" src="./vendor/jquery-ui-1.12.1/jquery-ui.min.js"></script>
  <script type="text/javascript" src="./vendor/datatables/jquery.dataTables.js"></script>
  <script type="text/javascript" src="./vendor/datatables/dataTables.bootstrap.js"></script>
  <script type="text/javascript" src="./vendor/bootstrap-5.0.2-dist/js/bootstrap.min.js"></script> -->
  <!-- <script type="text/javascript" src="./vendor/bootstrap-5.0.2-dist/datepicker/js/moment.min.js"></script> -->
  <!-- <script type="text/javascript" src="./vendor/bootstrap-5.0.2-dist/datepicker/js/moment-with-locales.min.js"></script> -->
  <!-- <script type="text/javascript" src="./vendor/bootstrap-5.0.2-dist/datepicker/js/bootstrap-datetimepicker.js"></script> -->
  <!-- <script type="text/javascript" src="./vendor/knockout-3.4.2.js"></script> -->
  <!-- <script type="text/javascript" src="./js/axio_common.js"></script> -->
  <!-- common's javascript end -->

  <!-- <script type="text/javascript" src="./js/userList.js"></script> -->

  <!-- <script type="text/javascript" src="./js/userSearch.js"></script> -->
<style>

  #notification-bar {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background-color: #4CAF50;
    color: white;
    text-align: center;
    padding: 10px;
  }

</style>
</head>

<body>
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link th:href="@{/vendor/jquery-ui-1.12.1/jquery-ui.css}" rel="stylesheet">
  <link th:href="@{/vendor/bootstrap-5.0.2-dist/css/bootstrap.min.css}" rel="stylesheet">
  <!-- <link th:href="@{/vendor/bootstrap-5.0.2-dist/datepicker/css/bootstrap-datetimepicker.css}" rel="stylesheet"> -->
  <link th:href="@{/vendor/datatables/dataTables.bootstrap.css}" rel="stylesheet">
  <link th:href="@{/vendor/datatables/1.13.6/css/select.dataTables.min.css}" rel="stylesheet">
  <link th:href="@{/css/common.css}" rel="stylesheet">
  <!-- 個別設定CSS -->
  <link th:href="@{/assets/css/style2.css}" rel="stylesheet">
  <link th:href="@{/css/userSearch3.css}" rel="stylesheet">

  <!-- <link href="./css/original.css" rel="stylesheet"> -->
  <!--// header -->
  <header id="header" class="header">
    <div class="header__inner">
      <figure class="header__img"><img src="./assets/img/common/img_logo01.png" alt="AXIO" width="73"
          height="36"></figure>
      <a href="./logout" class="header__link">ログアウト</a>
    </div>
  </header>
  <div id="notification-bar"></div>
  <!-- header //-->
  <div class="modTitleArea">
    <div class="modTitleArea__inner">
      <h1 class="modTitleArea__title"><i class="fa-solid fa-user">　利用者情報管理 - 検索</i></h1>
      <a href="./menu"  th:href="@{./menu}"  class="modTitleArea__prevButton" id="btn_back"><span>戻る</span></a>
    </div>
  </div>
  <div class="main">
    <div class="container">
      <div class="row">
        <div class="col-4">
          <div class="card searchCard cardUniversal">

            <div class="card-header">
              <h2>
                <i class="fa-solid fa-magnifying-glass"></i>　検索
              </h2>
            </div>
            <div class="card-body">
              <div class="tab-content" id="myTabContent">
                <!-- 学生検索タブ -->
                <div class="tab-pane fade show active" id="student" role="tabpanel" aria-labelledby="student-tab">
                  <div class="form-group">
                   <form role="form-inline" id="UserSearchForm" th:action="@{/}"  th:object="${UserSearchForm}"  method="post" class="form-horizontal">

                     <div class="row mb-3"></div>
                       <input type="hidden" id="changedDataFlg" th:field="*{changedDataFlg}" />
                    <!-- 利用者ID入力欄 -->
                     <div id="clearFlag">
                    <div class="row mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="clientId" class="form-label">利用者ID</label>
                      </div>
                      <div class="col-9">
                        <input class="form-control" id="clientId" th:field="*{clientId}" type="text">
                      </div>
                    </div>

                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="userDiv" class="form-label">利用者区分</label>
                      </div>
                      <div class="col-9">
                        <select class="form-select" id="userDiv" name="userDiv" th:field="*{userDiv}">
                          <!-- 利用者区分オプション -->
                          <option th:each="item : *{userDivList}"
                                  th:value="${item.value}"
                                  th:text="${item.label}"
                                  th:selected="${item.value eq userDiv}"></option>
                        </select>
                      </div>
                    </div>
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="fullNameJp" class="form-label">氏名(漢字)</label>
                      </div>
                      <div class="col-9">
                        <input class="form-control" id="fullNameJp" th:field="*{fullNameJp}" type="text">
                      </div>
                    </div>

                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="fullNameEn" class="form-label">氏名(英字)</label>
                      </div>
                      <div class="col-9">
                        <input class="form-control" id="fullNameEn" th:field="*{fullNameEn}" type="text">
                      </div>
                    </div>
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="campus" class="form-label">キャンパス</label>
                      </div>
                      <div class="col-9">
                        <select class="form-select" id="campus" th:field="*{campus}">
                          <!-- オプション1 -->
                          <option th:each="item : *{campusList}"
                                  th:value="${item.value}"
                                  th:text="${item.label}"
                                  th:selected="${item.value eq campus}"></option>
                        </select>
                      </div>
                    </div>
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="department" class="form-label">所属</label>
                      </div>
                      <div class="col-9">
                        <select class="form-select" id="department" th:field="*{department}">
                          <!-- オプション1 -->
                          <option th:each="item : *{departmentList}"
                                  th:value="${item.value}"
                                  th:text="${item.label}"
                                  th:selected="${item.value eq department}"></option>
                        </select>
                      </div>
                    </div>
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="entranceYear" class="form-label">入学年度</label>
                      </div>
                      <div class="col-9">
                        <input class="form-control" id="entranceYear" th:field="*{entranceYear}" type="text">
                      </div>
                    </div>

                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label for="vpn" class="form-label">アプリ利用</label>
                      </div>
                      <div class="col-9">
                        <select class="form-select" id="vpn">
                          <option selected value="0">--</option>
                          <option value="1">VPN利用　ON</option>
                          <option value="2">VPN利用　OFF</option>
                        </select>
                      </div>
                    </div>
                    <!-- 検索区分 -->
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label class="form-label">検索区分</label>
                      </div>
                      <div class="col-9">
                        <!-- 有効なユーザ -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="validUserChecked" th:field="*{validUserChecked}">
                          <label class="form-check-label" for="validUserChecked">
                            有効ユーザ
                          </label>
                        </div>
                        <!-- 削除ユーザ -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="invalidUserChecked" th:field="*{invalidUserChecked}">
                          <label class="form-check-label" for="invalidUserChecked">
                            削除ユーザ
                          </label>
                        </div>
                        <!-- ロックユーザ -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="lockUserChecked" th:field="*{lockUserChecked}">
                          <label class="form-check-label" for="lockUserChecked">
                            ロック状態ユーザ
                          </label>
                        </div>
                        <!-- 未来日ユーザ -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="futureUserChecked" th:field="*{futureUserChecked}">
                          <label class="form-check-label" for="futureUserChecked">
                            未来ユーザ
                          </label>
                        </div>
                      </div>
                    </div>
                    <!-- 絞り込み -->
                    <div class="row  mb-3">
                      <div class="col-3 d-flex justify-content-end">
                        <label class="form-label">絞り込み</label>
                      </div>
                      <div class="col-9">
                        <!-- 初期パスワード未変更ユーザ -->
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="initPassword" th:field="*{initPassword}">
                          <label class="form-check-label" for="initPassword">
                            初期パスワード未変更
                          </label>
                        </div>
                      </div>
                    </div>
                     </div>
                    <div class="mb-3"></div>
                    <!-- クリア・検索ボタン -->
                    <div class="row">
                      <!-- クリア -->
                      <div class="col-6 d-flex justify-content-center">
                        <button type="button" class="btn btn-outline-secondary btn-lg" id="clearBtn">
                          <i class="fa-solid fa-eraser"></i>
                          　クリア　
                        </button>
                      </div>
                      <!-- 検索 -->
                      <div class="col-6 d-flex justify-content-center">
                        <button type="button" class="btn btn-primary btn-lg" id="searchBtn" data-action="/searchUserList">
                          <i class="fa-solid fa-magnifying-glass"></i>
                          　検索　
                        </button>
                      </div>
                     </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- 利用者一覧 -->
        <div class="col-8">
          <div class="card searchCard carduniversal">
              <div class="card-header">
                <div class="row">
                  <div class="col-3">
                    <h2>
                      <i class="fa-solid fa-list"></i>　利用者一覧
                    </h2>
                  </div>
                  <div class="col-9">
                  </div>
                </div>
              </div>

              <div class="mb-2"></div>

              <div class="row">

                <div class="col-2">
                  <button id="userAddBtn" type="button" class="btn btn-danger btn-lg" style="width: 100%;">
                    <i class="fa-solid fa-plus"></i>
                    　新規作成　
                  </button>
                </div>

                <div class="col-2">
<!--                  <button  id="abcd" name="abcd">-->
<!--                    <i >adbda</i>-->
<!--                  </button>-->
                  <button id="userLockMultiBtn" type="button" class="btn btn-warning btn-lg" style="width: 100%;" data-action="/userLock">
                    <i class="fa-solid fa-lock"></i>
                    　ロック　
                  </button>
                </div>

                <div class="col-2">
                  <button id="userUnLockMultiBtn" type="button" class="btn btn-info2 btn-lg" style="width: 100%;" data-action="/userUnlock">
                    <i class="fa-solid fa-lock-open"></i>
                    　ロック解除　
                  </button>
                </div>

                <div class="col-2">
                  <button id="userValidMultiBtn" type="button" class="btn btn-success btn-lg" style="width: 100%;" data-action="/userValid">
                    <i class="fa-solid fa-user-check"></i>
                    　有効　
                  </button>
                </div>

                <div class="col-2">
                  <button id="userDelMultiBtn" type="button" class="btn btn-secondary btn-lg" style="width: 100%;" data-action="/userDoDelete">
                    <i class="fa-solid fa-user-slash"></i>
                    　削除　
                  </button>
                </div>

                <!-- CSVダウンロード -->
                <div class="col-2">
                  <button id="csvDownloadBtn" type="button" class="btn btn-outline-dark btn-lg" style="width: 100%;" data-action="/userCsvDownload">
                    <i class="fa-solid fa-download"></i>
                    ダウンロード
                  </button>
                </div>
              </div>

            <div class="tableContainer">
              <!-- 利用者一覧テーブル -->
              <div class="row">
                <div class="col-12">
                  <div class="mb-2"></div>
                  <div class="card">
                    <div class="card-body">
                      <table id="userListTable" class="table">
                        <thead>
                            <tr id="userlist">
                              <th class="checkboxColumn"><input type="checkbox" id="all_checks">　選択</th>
                              <th class="detailColumn">詳細</th>
                              <th class="statusColumn">状態</th>
                              <th class="userIdColumn">利用者ID</th>
                              <th class="userClassColumn">利用者区分</th>
                              <th class="fullNameColumn">氏名(漢字)</th>
                              <th class="fullNameEnColumn">氏名(英字)</th>
                              <th class="orgColumn">所属</th>
                              <th class="vpnUseColumn">VPN利用</th>
                            </tr>
                        </thead>
                        <tbody id="userListTbody">
<!--                            <tr th:if="${searchList != null and !searchList.isEmpty()}" th:each="user:${searchList}">-->
<!--                              <td th:text="${user.userId}"></td>-->
<!--                              <td th:text="${user.userReserve}"></td>-->
<!--                              <td th:text="${user.status}"></td>-->
<!--                              <td th:text="${user.userId}"></td>-->
<!--                              <td th:text="${user.employmentName}"></td>-->
<!--                              <td th:text="${user.fullnameJp}"></td>-->
<!--                              <td th:text="${user.fullnameEn}"></td>-->
<!--                              <td th:text="${user.department}"></td>-->
<!--                              <td th:text="${user.vpn == '1' ? '○' : '×'}"></td>-->
<!--                            </tr>-->
                        </tbody>

                    </table>
                    </div>
                    <!-- /.card-body -->
                  </div>
                  <!-- /.card -->
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
    <form action="/userView" method="POST" id="userViewForm">
      <input type="hidden"  name="userId">
    </form>
  </div>

  <footer id="footer" class="footer">
    <p class="footer__text">Copyright © AXIO corporation. All Rights Reserved.</p>
  </footer>


  <!-- モーダル領域 -->
  <!-- ロック確認モーダル -->
  <div class="modal fade" id="userLockMultiConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"
    data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header card-axio">
          <h5 class="modal-title" id="userLockModalTitle">ロック確認画面</h5>
        </div>
        <div class="modal-body" id="userLockModal_Content" style="font-size: 16px; padding-bottom: 5px;">

          <!-- /.card -->
        </div>
        <div class="modal-footer" style="font-size: 16px;">
          <div class="">
            <button type="button" class="btn btn-outline-secondary btn-lg" data-bs-dismiss="modal">
              　キャンセル　
            </button>
            <button id="userLockMultiConfirmModalProcessBtn" type="button" class="btn btn-primary btn-lg" >
              　
              <i class="fa-solid fa-check"></i>
              　確定　　
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
    <!-- ロック確認モーダル ここまで -->

  <!-- ロック解除確認モーダル -->
  <div class="modal fade" id="userUnlockMultiConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"
       data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header card-axio">
          <h5 class="modal-title" id="userUnlockModalTitle">ロック解除確認画面</h5>
        </div>
        <div class="modal-body" id="userUnlockModal_Content" style="font-size: 16px; padding-bottom: 5px;">

          <!-- /.card -->
        </div>

        <div class="modal-footer" style="font-size: 16px;">
          <div class="">
            <button type="button" class="btn btn-outline-secondary btn-lg" data-bs-dismiss="modal">
              　キャンセル　
            </button>
            <button id="userUnlockMultiConfirmModalProcessBtn" type="button" class="btn btn-primary btn-lg" >
              　
              <i class="fa-solid fa-check"></i>
              　確定　　
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- ロック解除確認モーダル ここまで -->

  <!-- 有効確認モーダル -->
  <div class="modal fade" id="userValidMultiConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"
       data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header card-axio">
          <h5 class="modal-title" id="userValidModalTitle">有効確認画面</h5>
        </div>
        <div class="modal-body" id="userValidModal_Content" style="font-size: 16px; padding-bottom: 5px;">

          <!-- /.card -->
        </div>
        <div class="modal-footer" style="font-size: 16px;">
          <div class="">
            <button type="button" class="btn btn-outline-secondary btn-lg" data-bs-dismiss="modal">
              　キャンセル　
            </button>
            <button id="userValidMultiConfirmModalProcessBtn" type="button" class="btn btn-primary btn-lg" >
              　
              <i class="fa-solid fa-check"></i>
              　確定　　
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 有効確認モーダル ここまで -->

  <!-- 削除確認モーダル -->
  <div class="modal fade" id="userDeleteMultiConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"
       data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header card-axio">
          <h5 class="modal-title" id="userDeleteModalTitle">削除確認画面</h5>
        </div>
        <div class="modal-body" id="userDeleteModal_Content" style="font-size: 16px; padding-bottom: 5px;">

          <!-- /.card -->
        </div>
        <div class="modal-footer" style="font-size: 16px;">
          <div class="">
            <button type="button" class="btn btn-outline-secondary btn-lg" data-bs-dismiss="modal">
              　キャンセル　
            </button>
            <button id="userDeleteMultiConfirmModalProcessBtn" type="button" class="btn btn-primary btn-lg" >
              　
              <i class="fa-solid fa-check"></i>
              　確定　　
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 削除確認モーダル ここまで -->

  <!-- ダウンロード確認モーダル -->
  <div class="modal fade" id="userCsvDownloadMultiConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modal" aria-hidden="true"
       data-backdrop="static">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header card-axio">
          <h5 class="modal-title" id="userCsvDownloadModalTitle">ダウンロード確認画面</h5>
        </div>
        <div class="modal-body" id="userCsvDownloadModal_Content" style="font-size: 16px; padding-bottom: 5px;">

          <!-- /.card -->
        </div>
        <div class="modal-footer" style="font-size: 16px;">
          <div class="">
            <button type="button" class="btn btn-outline-secondary btn-lg" data-bs-dismiss="modal">
              　キャンセル　
            </button>
            <button id="userCsvDownloadMultiConfirmModalProcessBtn" type="button" class="btn btn-primary btn-lg" >
              　
              <i class="fa-solid fa-check"></i>
              　確定　　
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- ダウンロード確認モーダル ここまで -->
    <!-- Main Footer -->

  </div>
  <!-- モーダル領域ここまで -->


  <!-- JS -->

    <!-- common's javascript start -->
    <!-- <script type="text/javascript" src="./vendor/jquery-3.2.1.js"></script> -->
    <script th:src="@{/vendor/jquery-3.7.0.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/jquery-ui-1.12.1/jquery-ui.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/bootstrap-5.0.2-dist/js/bootstrap.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/datatables/1.13.6/js/jquery.dataTables.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/datatables/1.13.6/js/dataTables.bootstrap5.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/datatables/1.13.6/js/dataTables.select.min.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/datatables/1.13.6/js/dataTables.checkboxes.js}" type="text/javascript"></script>
    <script th:src="@{/vendor/knockout-3.4.2.js}" type="text/javascript"></script>

    <script th:src="@{/js/userSearch.js}" type="text/javascript"></script>
    <script th:src="@{/webjars/axios/dist/axios.min.js}"></script>
</body>
</html>